<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>JSONP</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <style>
    body {
        font-family: 'Source Sans Pro', 'Helvetica Neue', Arial, sans-serif;
        font-size: 15px;
    }
    </style>
</head>
<body>
  <h1>Hello, world!</h1>
  <hr />
  <p>
     This is a CORS demonstration. We are making a request to http://localhost:3000/req/1/

     This page is serverd on localhost:3000 which is technically a different origin. (This would be like the
     page being hosted on www.domain-1.com and our api on www.domain-2.com/req/1)

     We are not using a proxy server and we thankfully are not using JSONP. Instead we are using CORS, which is a standard
     for CROSS-ORIGIN RESOURCE SHARING.

  </p>
    <script
    src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous"></script>

    <script>

      $.ajax({
        url: "http://localhost:3000/req/1",
      });

      function myCallback(payload) {
        alert('Fired, the msg from server reads: "' + payload.msg + '" \n(Open console to see the respoonse body)');
        console.log("**", payload, "**");
        console.log("msg:", payload.msg);
        console.log("body", payload.body);
      }

    </script>
</body>
</html>
